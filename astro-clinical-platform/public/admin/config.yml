# Decap CMS é…ç½®æª”æ¡ˆ for Cloudflare Pages
# é†«ç™‚å¹³å°è¡›æ•™æ–‡ç« ç™¼å¸ƒ SOP ç³»çµ±
# æ›´æ–°æ—¥æœŸ: 2025-01-31
# åŸºæ–¼æœ€æ–° Decap CMS GitHub OAuth å¯¦ç¾

backend:
  name: github
  repo: lemonicefate/ent-clinic-pro
  branch: master
  # --- ğŸ‘‡ GitHub OAuth èªè­‰è¨­å®š ğŸ‘‡ ---
  auth_type: pkce
  base_url: https://your-project-name.glitch.me # âš ï¸ã€å¿…è¦ã€‘è«‹æ›¿æ›æˆæ‚¨çš„ Glitch ä¼ºæœå™¨ç¶²å€
  app_id: YOUR_GITHUB_OAUTH_CLIENT_ID # âš ï¸ã€å¿…è¦ã€‘è«‹æ›¿æ›æˆæ‚¨çš„ GitHub OAuth App Client ID

# æœ¬åœ°é–‹ç™¼è¨­å®šï¼ˆé–‹ç™¼æ™‚å¯å•Ÿç”¨ï¼‰
# local_backend: true

# åª’é«”æª”æ¡ˆè¨­å®š
media_folder: "public/images/uploads"
public_folder: "/images/uploads"
media_folder_relative: true

# ç¶²ç«™è¨­å®š
site_url: https://ent-clinic-pro.pages.dev
display_url: https://ent-clinic-pro.pages.dev
logo_url: /favicon.svg

# èªè¨€è¨­å®š
locale: 'zh-Hant'

# ç™¼å¸ƒæ¨¡å¼
publish_mode: editorial_workflow

# æœå°‹è¨­å®š
search: true

# é›†åˆå®šç¾©
collections:
  # è¡›æ•™æ–‡ç« é›†åˆ
  - name: "education"
    label: "è¡›æ•™æ–‡ç« "
    label_singular: "è¡›æ•™æ–‡ç« "
    folder: "src/content/education"
    create: true
    slug: "{{year}}-{{month}}-{{day}}-{{slug}}"
    extension: "md"
    format: "frontmatter"
    editor:
      preview: true
    fields:
      # åŸºæœ¬è³‡è¨Š
      - label: "æ¨™é¡Œ"
        name: "title"
        widget: "object"
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "string", required: true }
          - { label: "English", name: "en", widget: "string", required: true }
          - { label: "æ—¥æœ¬èª", name: "ja", widget: "string", required: false }
      
      - label: "æ‘˜è¦"
        name: "excerpt"
        widget: "object"
        required: false
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "text" }
          - { label: "English", name: "en", widget: "text" }
          - { label: "æ—¥æœ¬èª", name: "ja", widget: "text" }
      
      - label: "åˆ†é¡"
        name: "category"
        widget: "select"
        options:
          - { label: "ç–¾ç—…", value: "disease" }
          - { label: "è—¥ç‰©", value: "medication" }
          - { label: "ç¨‹åº", value: "procedure" }
          - { label: "é é˜²", value: "prevention" }
          - { label: "ç”Ÿæ´»æ–¹å¼", value: "lifestyle" }
          - { label: "ç—‡ç‹€", value: "symptoms" }
          - { label: "è¨ºæ–·", value: "diagnosis" }
          - { label: "æ²»ç™‚", value: "treatment" }
      
      # SOP å·¥ä½œæµç¨‹æ¬„ä½
      - label: "æ–‡ç« ç‹€æ…‹"
        name: "status"
        widget: "select"
        default: "draft"
        options:
          - { label: "è‰ç¨¿", value: "draft" }
          - { label: "å¯©æ ¸ä¸­", value: "in-review" }
          - { label: "éœ€è¦ä¿®æ”¹", value: "needs-revision" }
          - { label: "å“è³ªæª¢æŸ¥", value: "quality-check" }
          - { label: "æº–å‚™ç™¼å¸ƒ", value: "ready-to-publish" }
          - { label: "å·²ç™¼å¸ƒ", value: "published" }
      
      - label: "ç‰ˆæœ¬"
        name: "version"
        widget: "string"
        default: "1.0"
        pattern: ['^\\d+\\.\\d+$', "ç‰ˆæœ¬æ ¼å¼æ‡‰ç‚º x.y (ä¾‹å¦‚: 1.0, 2.1)"]
      
      - label: "æŒ‡å®šå¯©æ ¸è€…"
        name: "reviewers"
        widget: "select"
        multiple: true
        required: false
        options:
          # å¿ƒè‡Ÿç§‘å¯©æ ¸è€…
          - { label: "é™³å¿ƒè‡Ÿé†«å¸« (å¿ƒè‡Ÿç§‘å°ˆå®¶)", value: "dr-chen-cardiology" }
          - { label: "ç‹å¿ƒè¡€ç®¡é†«å¸« (å¿ƒè‡Ÿç§‘å°ˆå®¶)", value: "dr-wang-cardiology" }
          # ç¥ç¶“ç§‘å¯©æ ¸è€…
          - { label: "åŠ‰ç¥ç¶“é†«å¸« (ç¥ç¶“ç§‘å°ˆå®¶)", value: "dr-liu-neurology" }
          - { label: "å¼µè…¦ç¥ç¶“é†«å¸« (ç¥ç¶“ç§‘å°ˆå®¶)", value: "dr-zhang-neurology" }
          # å°å…’ç§‘å¯©æ ¸è€…
          - { label: "å³å°å…’ç§‘é†«å¸« (å°å…’ç§‘å°ˆå®¶)", value: "dr-wu-pediatrics" }
          - { label: "å¼µå…’ç«¥é†«å¸« (å°å…’ç§‘å°ˆå®¶)", value: "dr-chang-pediatrics" }
          # æ€¥è¨ºé†«å­¸ç§‘å¯©æ ¸è€…
          - { label: "é™³æ€¥è¨ºé†«å¸« (æ€¥è¨ºå°ˆå®¶)", value: "dr-chen-emergency" }
          - { label: "ç‹æ€¥è¨ºé†«å¸« (æ€¥è¨ºå°ˆå®¶)", value: "dr-wang-emergency" }
          # é€šç”¨å¯©æ ¸è€…
          - { label: "ç¸½ç·¨è¼¯", value: "chief-editor" }
          - { label: "å“è³ªç®¡ç†å“¡", value: "quality-manager" }
      
      # å…§å®¹åˆ†é¡
      - label: "æ¨™ç±¤"
        name: "tags"
        widget: "list"
        required: false
        min: 1
        max: 10
        field: 
          label: "æ¨™ç±¤"
          widget: "string"
        hint: "è«‹è¼¸å…¥1-10å€‹ç›¸é—œæ¨™ç±¤ï¼Œæœ‰åŠ©æ–¼æ–‡ç« åˆ†é¡å’Œæœå°‹"
      
      - label: "é†«ç™‚å°ˆç§‘"
        name: "medicalSpecialties"
        widget: "select"
        multiple: true
        required: true
        min: 1
        max: 3
        hint: "è«‹é¸æ“‡1-3å€‹æœ€ç›¸é—œçš„é†«ç™‚å°ˆç§‘"
        options:
          - { label: "ğŸ«€ å¿ƒè‡Ÿç§‘", value: "cardiology" }
          - { label: "ğŸ§  ç¥ç¶“ç§‘", value: "neurology" }
          - { label: "ğŸ¦´ éª¨ç§‘", value: "orthopedics" }
          - { label: "ğŸ‘¶ å°å…’ç§‘", value: "pediatrics" }
          - { label: "ğŸš¨ æ€¥è¨ºé†«å­¸ç§‘", value: "emergency" }
          - { label: "ğŸ©º ä¸€èˆ¬é†«å­¸ç§‘", value: "general" }
          - { label: "ğŸ”ª å¤–ç§‘", value: "surgery" }
          - { label: "âš–ï¸ å…§åˆ†æ³Œç§‘", value: "endocrinology" }
          - { label: "ğŸ«˜ è…è‡Ÿç§‘", value: "nephrology" }
          - { label: "ğŸ« èƒ¸è…”ç§‘", value: "pulmonology" }
      
      - label: "é›£åº¦ç­‰ç´š"
        name: "difficulty"
        widget: "select"
        default: "basic"
        required: true
        options:
          - { label: "ğŸŸ¢ åŸºç¤ - ä¸€èˆ¬æ°‘çœ¾å¯ç†è§£", value: "basic" }
          - { label: "ğŸŸ¡ ä¸­ç´š - éœ€è¦åŸºæœ¬é†«å­¸çŸ¥è­˜", value: "intermediate" }
          - { label: "ğŸ”´ é€²éš - é†«ç™‚å°ˆæ¥­äººå“¡", value: "advanced" }
      
      # ç›®æ¨™å—çœ¾
      - label: "ç—…æ‚£å‹å–„"
        name: "patientFriendly"
        widget: "boolean"
        default: true
      
      - label: "å¹´é½¡ç¾¤çµ„"
        name: "ageGroup"
        widget: "select"
        default: "all"
        options:
          - { label: "æ‰€æœ‰å¹´é½¡", value: "all" }
          - { label: "å…’ç«¥", value: "pediatric" }
          - { label: "æˆäºº", value: "adult" }
          - { label: "è€å¹´", value: "geriatric" }
      
      # å…§å®¹è³‡è¨Š
      - label: "é–±è®€æ™‚é–“ï¼ˆåˆ†é˜ï¼‰"
        name: "readingTime"
        widget: "number"
        required: false
        min: 1
        max: 60
        step: 1
        default: 5
      
      - label: "æœ€å¾Œæ›´æ–°"
        name: "lastUpdated"
        widget: "datetime"
        default: ""
        date_format: "YYYY-MM-DD"
        time_format: "HH:mm"
      
      # ä½œè€…å’Œå¯©æ ¸
      - label: "ä½œè€…"
        name: "author"
        widget: "object"
        required: false
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "string" }
          - { label: "English", name: "en", widget: "string" }
          - { label: "æ—¥æœ¬èª", name: "ja", widget: "string" }
      
      # åª’é«”è³‡æº
      - label: "ç‰¹è‰²åœ–ç‰‡"
        name: "featuredImage"
        widget: "object"
        required: false
        fields:
          - { label: "åœ–ç‰‡", name: "src", widget: "image" }
          - label: "æ›¿ä»£æ–‡å­—"
            name: "alt"
            widget: "object"
            fields:
              - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "string" }
              - { label: "English", name: "en", widget: "string" }
              - { label: "æ—¥æœ¬èª", name: "ja", widget: "string" }
      
      # é†«ç™‚è³‡è¨Š
      - label: "è­‰æ“šç­‰ç´š"
        name: "evidenceLevel"
        widget: "select"
        required: false
        options:
          - { label: "A ç´š - é«˜å“è³ªéš¨æ©Ÿå°ç…§è©¦é©—", value: "A" }
          - { label: "B ç´š - ä¸­ç­‰å“è³ªç ”ç©¶", value: "B" }
          - { label: "C ç´š - è§€å¯Ÿæ€§ç ”ç©¶", value: "C" }
          - { label: "D ç´š - å°ˆå®¶æ„è¦‹", value: "D" }
      
      - label: "åƒè€ƒæ–‡ç»"
        name: "references"
        widget: "list"
        required: false
        max: 10
        fields:
          - label: "æ¨™é¡Œ"
            name: "title"
            widget: "string"
            required: true
          - label: "ä½œè€…"
            name: "authors"
            widget: "list"
            required: true
            max: 5
            field: 
              label: "ä½œè€…å§“å"
              widget: "string"
          - label: "æœŸåˆŠåç¨±"
            name: "journal"
            widget: "string"
            required: false
          - label: "ç™¼è¡¨å¹´ä»½"
            name: "year"
            widget: "number"
            required: false
            min: 1990
            max: 2030
          - label: "ç¶²å€"
            name: "url"
            widget: "string"
            required: false
          - label: "DOI"
            name: "doi"
            widget: "string"
            required: false
      
      # ç‹€æ…‹å’Œçµ±è¨ˆ
      - label: "å•Ÿç”¨"
        name: "isActive"
        widget: "boolean"
        default: true
      
      - label: "ç‰¹è‰²å…§å®¹"
        name: "isFeatured"
        widget: "boolean"
        default: false
      
      # SEO å’Œå…ƒè³‡æ–™
      - label: "SEO æ¨™é¡Œ"
        name: "seoTitle"
        widget: "object"
        required: false
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "string" }
          - { label: "English", name: "en", widget: "string" }
          - { label: "æ—¥æœ¬èª", name: "ja", widget: "string" }
      
      - label: "SEO æè¿°"
        name: "seoDescription"
        widget: "object"
        required: false
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "text" }
          - { label: "English", name: "en", widget: "text" }
          - { label: "æ—¥æœ¬èª", name: "ja", widget: "text" }
      
      - label: "é—œéµå­—"
        name: "keywords"
        widget: "list"
        required: false
        field: { label: "é—œéµå­—", widget: "string" }
      
      # å…§å®¹æœ¬é«”
      - label: "å…§å®¹"
        name: "body"
        widget: "markdown"
        required: true
        hint: "è«‹æ’°å¯«è©³ç´°çš„è¡›æ•™å…§å®¹"

  # é†«ç™‚å°ˆç§‘é›†åˆï¼ˆç°¡åŒ–ç‰ˆï¼‰
  - name: "medical-specialties"
    label: "é†«ç™‚å°ˆç§‘"
    folder: "src/content/medical-specialties"
    create: true
    slug: "{{slug}}"
    extension: "json"
    format: "json"
    fields:
      - { label: "ID", name: "id", widget: "string" }
      - label: "åç¨±"
        name: "name"
        widget: "object"
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "string", required: true }
          - { label: "English", name: "en", widget: "string", required: true }
      - { label: "ç¶²å€ä»£ç¢¼", name: "slug", widget: "string" }
      - label: "æè¿°"
        name: "description"
        widget: "object"
        required: false
        fields:
          - { label: "ç¹é«”ä¸­æ–‡", name: "zh_TW", widget: "text" }
          - { label: "English", name: "en", widget: "text" }
      - { label: "é¡è‰²", name: "color", widget: "color", required: false }
      - { label: "åœ–ç¤º", name: "icon", widget: "string", required: false }
      - { label: "å•Ÿç”¨", name: "isActive", widget: "boolean", default: true }

# ç·¨è¼¯å™¨è¨­å®š
editor:
  preview: true

# æ’åºè¨­å®š
sortable_fields: ['title', 'lastUpdated', 'status']

# æª¢è¦–éæ¿¾å™¨
view_filters:
  - label: "è‰ç¨¿"
    field: status
    pattern: 'draft'
  - label: "å¯©æ ¸ä¸­"
    field: status
    pattern: 'in-review'
  - label: "å·²ç™¼å¸ƒ"
    field: status
    pattern: 'published'

# æª¢è¦–ç¾¤çµ„
view_groups:
  - label: "ç‹€æ…‹"
    field: status
  - label: "å°ˆç§‘"
    field: medicalSpecialties