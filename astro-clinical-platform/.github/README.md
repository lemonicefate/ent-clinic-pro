# ğŸ¥ GitHub å·¥ä½œæµç¨‹å’Œ PR æ¨¡æ¿

æœ¬ç›®éŒ„åŒ…å«é†«ç™‚è¡›æ•™å¹³å°çš„ GitHub å·¥ä½œæµç¨‹é…ç½®ã€PR æ¨¡æ¿å’Œè‡ªå‹•åŒ–è¨­å®šã€‚

## ğŸ“‹ ç›®éŒ„çµæ§‹

```
.github/
â”œâ”€â”€ workflows/                    # GitHub Actions å·¥ä½œæµç¨‹
â”‚   â”œâ”€â”€ content-quality-check.yml # å…§å®¹å“è³ªæª¢æŸ¥
â”‚   â”œâ”€â”€ cms-deploy.yml            # CMS éƒ¨ç½²å·¥ä½œæµç¨‹
â”‚   â””â”€â”€ pr-labeler.yml           # PR è‡ªå‹•æ¨™ç±¤
â”œâ”€â”€ PULL_REQUEST_TEMPLATE/        # PR æ¨¡æ¿
â”‚   â”œâ”€â”€ new_article.md           # æ–°å¢æ–‡ç« æ¨¡æ¿
â”‚   â”œâ”€â”€ content_update.md        # å…§å®¹æ›´æ–°æ¨¡æ¿
â”‚   â””â”€â”€ system_config.md         # ç³»çµ±é…ç½®æ¨¡æ¿
â”œâ”€â”€ ISSUE_TEMPLATE/               # Issue æ¨¡æ¿
â”‚   â”œâ”€â”€ content_request.yml      # å…§å®¹è«‹æ±‚æ¨¡æ¿
â”‚   â””â”€â”€ content_error.yml        # å…§å®¹éŒ¯èª¤å›å ±æ¨¡æ¿
â”œâ”€â”€ pull_request_template.md     # é è¨­ PR æ¨¡æ¿
â”œâ”€â”€ CODEOWNERS                   # ç¨‹å¼ç¢¼æ“æœ‰è€…è¨­å®š
â”œâ”€â”€ labeler.yml                  # è‡ªå‹•æ¨™ç±¤é…ç½®
â””â”€â”€ README.md                    # æœ¬èªªæ˜æª”æ¡ˆ
```

## ğŸš€ å·¥ä½œæµç¨‹èªªæ˜

### 1. å…§å®¹å“è³ªæª¢æŸ¥ (content-quality-check.yml)

**è§¸ç™¼æ¢ä»¶**:
- PR æ¶‰åŠ `src/content/**/*.md` æª”æ¡ˆè®Šæ›´
- æ¨é€åˆ° main/master åˆ†æ”¯
- æ‰‹å‹•è§¸ç™¼

**æª¢æŸ¥é …ç›®**:
- âœ… åŸºç¤é©—è­‰ (Content Collections, Frontmatter)
- ğŸ¥ é†«ç™‚è¡“èªæª¢æŸ¥
- â™¿ ç„¡éšœç¤™æ€§é©—è­‰
- ğŸ“– å¯è®€æ€§åˆ†æ
- ğŸ“š åƒè€ƒæ–‡ç»æª¢æŸ¥
- ğŸ“ Markdown èªæ³•æª¢æŸ¥
- ğŸ¯ ç¶œåˆå“è³ªè©•ä¼°

**è¼¸å‡º**:
- å“è³ªæª¢æŸ¥å ±å‘Š (JSON æ ¼å¼)
- PR è©•è«–æ‘˜è¦
- è‡ªå‹•æ¨™ç±¤åˆ†é¡
- å¯©æ ¸è€…è‡ªå‹•æŒ‡æ´¾

### 2. CMS éƒ¨ç½²å·¥ä½œæµç¨‹ (cms-deploy.yml)

**åŠŸèƒ½**:
- å…§å®¹é©—è­‰å’Œæ ¼å¼æª¢æŸ¥
- è‡ªå‹•å»ºç½®å’Œéƒ¨ç½²åˆ° Cloudflare Pages
- éƒ¨ç½²çµæœé€šçŸ¥

### 3. PR è‡ªå‹•æ¨™ç±¤ (pr-labeler.yml)

**åŠŸèƒ½**:
- æ ¹æ“šè®Šæ›´æª”æ¡ˆè‡ªå‹•æ·»åŠ æ¨™ç±¤
- åˆ†æ PR å…§å®¹æ·»åŠ ç‰¹æ®Šæ¨™ç±¤
- è‡ªå‹•æŒ‡æ´¾ç›¸é—œå¯©æ ¸è€…

## ğŸ“ PR æ¨¡æ¿ä½¿ç”¨æŒ‡å—

### é¸æ“‡é©ç•¶çš„ PR æ¨¡æ¿

1. **æ–°å¢æ–‡ç« ** (`new_article.md`)
   - ç”¨æ–¼æ–°å¢é†«ç™‚è¡›æ•™æ–‡ç« 
   - åŒ…å«å®Œæ•´çš„é†«ç™‚å…§å®¹å¯©æ ¸æ¸…å–®
   - å°ˆç§‘ç‰¹å®šæª¢æŸ¥é …ç›®

2. **å…§å®¹æ›´æ–°** (`content_update.md`)
   - ç”¨æ–¼æ›´æ–°ç¾æœ‰æ–‡ç« å…§å®¹
   - åŒ…å«è®Šæ›´å½±éŸ¿è©•ä¼°
   - ç‰ˆæœ¬æ§åˆ¶å’Œé¢¨éšªè©•ä¼°

3. **ç³»çµ±é…ç½®** (`system_config.md`)
   - ç”¨æ–¼ CMS é…ç½®ã€æ¨¡æ¿æˆ–ç³»çµ±è¨­å®šè®Šæ›´
   - åŒ…å«å®‰å…¨æ€§å’Œæ•ˆèƒ½è©•ä¼°
   - éƒ¨ç½²å’Œå›æ»¾è¨ˆç•«

### å¦‚ä½•ä½¿ç”¨ PR æ¨¡æ¿

1. **å»ºç«‹ PR æ™‚é¸æ“‡æ¨¡æ¿**:
   ```
   https://github.com/your-org/repo/compare/main...your-branch?template=new_article.md
   ```

2. **æˆ–åœ¨ PR æè¿°ä¸­æ‰‹å‹•é¸æ“‡**:
   - é»æ“Š "Preview" æ¨™ç±¤æ—çš„æ¨¡æ¿é¸æ“‡å™¨
   - é¸æ“‡é©åˆçš„æ¨¡æ¿

3. **å¡«å¯«å®Œæ•´è³‡è¨Š**:
   - æ‰€æœ‰å¿…å¡«é …ç›®éƒ½éœ€è¦å®Œæˆ
   - å‹¾é¸ç›¸é—œçš„æª¢æŸ¥æ¸…å–®
   - æä¾›è©³ç´°çš„è®Šæ›´èªªæ˜

## ğŸ‘¥ å¯©æ ¸è€…è‡ªå‹•æŒ‡æ´¾

### CODEOWNERS è¨­å®š

ç³»çµ±æœƒæ ¹æ“šè®Šæ›´çš„æª”æ¡ˆè‡ªå‹•æŒ‡æ´¾å¯©æ ¸è€…ï¼š

- **é†«ç™‚å…§å®¹**: `@medical-advisors` `@content-team`
- **å°ˆç§‘å…§å®¹**: å°æ‡‰çš„å°ˆç§‘å¯©æ ¸è€…
- **ç³»çµ±é…ç½®**: `@tech-team` `@content-manager`
- **å“è³ªå·¥å…·**: `@tech-team` `@medical-advisors`

### å°ˆç§‘å¯©æ ¸è€…å°æ‡‰

| å°ˆç§‘ | å¯©æ ¸è€… | è§¸ç™¼æ¢ä»¶ |
|------|--------|----------|
| å¿ƒè‡Ÿç§‘ | `@cardiology-reviewer` | æª”æ¡ˆåŒ…å« cardiology, heart, cardiac |
| ç¥ç¶“ç§‘ | `@neurology-reviewer` | æª”æ¡ˆåŒ…å« neurology, brain, stroke |
| å°å…’ç§‘ | `@pediatrics-reviewer` | æª”æ¡ˆåŒ…å« pediatrics, child, infant |
| æ€¥è¨ºç§‘ | `@emergency-reviewer` | æª”æ¡ˆåŒ…å« emergency, urgent, first-aid |
| éª¨ç§‘ | `@orthopedics-reviewer` | æª”æ¡ˆåŒ…å« orthopedics, bone, joint |

### ç‰¹æ®Šå¯©æ ¸è¦æ±‚

- **è—¥ç‰©ç›¸é—œ**: `@pharmacist-reviewer`
- **æ‰‹è¡“ç›¸é—œ**: `@surgeon-reviewer`
- **ç‡Ÿé¤Šç›¸é—œ**: `@nutritionist-reviewer`
- **å¾©å¥ç›¸é—œ**: `@physiotherapist-reviewer`
- **è­·ç†ç›¸é—œ**: `@nurse-reviewer`

## ğŸ·ï¸ è‡ªå‹•æ¨™ç±¤ç³»çµ±

### å…§å®¹é¡å‹æ¨™ç±¤

- `content` - æ‰€æœ‰å…§å®¹è®Šæ›´
- `medical-content` - é†«ç™‚è¡›æ•™å…§å®¹
- `cardiology`, `neurology`, `pediatrics` ç­‰ - å°ˆç§‘åˆ†é¡
- `medication`, `surgery`, `prevention` ç­‰ - å…§å®¹é¡å‹

### ç³»çµ±æ¨™ç±¤

- `cms-config` - CMS é…ç½®è®Šæ›´
- `content-schema` - Content Collections è®Šæ›´
- `quality-tools` - å“è³ªæª¢æŸ¥å·¥å…·è®Šæ›´
- `github-actions` - å·¥ä½œæµç¨‹è®Šæ›´

### å“è³ªæ¨™ç±¤

- `quality-excellent` (90-100åˆ†)
- `quality-good` (75-89åˆ†)
- `quality-fair` (60-74åˆ†)
- `quality-needs-improvement` (<60åˆ†)

### å¯©æ ¸éœ€æ±‚æ¨™ç±¤

- `needs-medical-review` - éœ€è¦é†«ç™‚å¯©æ ¸
- `needs-pharmacist-review` - éœ€è¦è—¥å¸«å¯©æ ¸
- `needs-accessibility-fixes` - éœ€è¦ç„¡éšœç¤™æ€§ä¿®æ­£
- `needs-reference-fixes` - éœ€è¦åƒè€ƒæ–‡ç»ä¿®æ­£

## ğŸ“Š å“è³ªæª¢æŸ¥å ±å‘Š

### å ±å‘Šæ ¼å¼

å“è³ªæª¢æŸ¥æœƒç”Ÿæˆå¤šç¨®æ ¼å¼çš„å ±å‘Šï¼š

1. **JSON å ±å‘Š** - æ©Ÿå™¨å¯è®€çš„è©³ç´°æ•¸æ“š
2. **HTML å ±å‘Š** - è¦–è¦ºåŒ–çš„å“è³ªå„€è¡¨æ¿
3. **Markdown å ±å‘Š** - é©åˆæ–‡æª”çš„æ‘˜è¦æ ¼å¼
4. **PR è©•è«–** - ç›´æ¥åœ¨ PR ä¸­çš„æ‘˜è¦

### å“è³ªåˆ†æ•¸è¨ˆç®—

- **é†«ç™‚è¡“èªæª¢æŸ¥**: 25%
- **ç„¡éšœç¤™æ€§é©—è­‰**: 25%
- **å¯è®€æ€§åˆ†æ**: 25%
- **åƒè€ƒæ–‡ç»æª¢æŸ¥**: 25%

### å“è³ªæ¨™æº–

- ğŸ† **å„ªç§€** (90-100): å¯ç›´æ¥ç™¼å¸ƒ
- âœ… **è‰¯å¥½** (75-89): å°å¹…ä¿®æ­£å¾Œå¯ç™¼å¸ƒ
- âš ï¸ **æ™®é€š** (60-74): éœ€è¦æ”¹å–„å¾Œç™¼å¸ƒ
- âŒ **éœ€æ”¹å–„** (0-59): éœ€è¦å¤§å¹…ä¿®æ­£

## ğŸ”§ è‡ªè¨‚é…ç½®

### ä¿®æ”¹å¯©æ ¸è€…

ç·¨è¼¯ `CODEOWNERS` æª”æ¡ˆä¾†èª¿æ•´å¯©æ ¸è€…æŒ‡æ´¾ï¼š

```
# æ·»åŠ æ–°çš„å°ˆç§‘å¯©æ ¸è€…
src/content/education/*dermatology* @dermatology-reviewer @medical-advisors
```

### èª¿æ•´è‡ªå‹•æ¨™ç±¤

ç·¨è¼¯ `labeler.yml` æª”æ¡ˆä¾†ä¿®æ”¹æ¨™ç±¤è¦å‰‡ï¼š

```yaml
# æ·»åŠ æ–°çš„æ¨™ç±¤è¦å‰‡
dermatology:
  - 'src/content/education/**/*dermatology*'
  - 'src/content/education/**/*skin*'
```

### ä¿®æ”¹å“è³ªæª¢æŸ¥æ¨™æº–

ç·¨è¼¯å“è³ªæª¢æŸ¥å·¥å…·çš„é…ç½®å¸¸æ•¸ï¼š

```javascript
// åœ¨ scripts/quality-check-runner.js ä¸­
const QUALITY_CHECKS = {
  terminology: { weight: 30 },  // èª¿æ•´æ¬Šé‡
  accessibility: { weight: 20 },
  readability: { weight: 25 },
  references: { weight: 25 }
};
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

1. **å“è³ªæª¢æŸ¥å¤±æ•—**
   - æª¢æŸ¥ Actions æ—¥èªŒä¸­çš„è©³ç´°éŒ¯èª¤è¨Šæ¯
   - ç¢ºèªæ‰€æœ‰ä¾è³´å¥—ä»¶å·²æ­£ç¢ºå®‰è£
   - é©—è­‰å…§å®¹æ ¼å¼ç¬¦åˆ Content Collections schema

2. **å¯©æ ¸è€…æœªè‡ªå‹•æŒ‡æ´¾**
   - æª¢æŸ¥ CODEOWNERS æª”æ¡ˆèªæ³•
   - ç¢ºèªå¯©æ ¸è€…å¸³è™Ÿå­˜åœ¨ä¸”æœ‰æ¬Šé™
   - æª¢æŸ¥æª”æ¡ˆè·¯å¾‘æ˜¯å¦ç¬¦åˆè¦å‰‡

3. **æ¨™ç±¤æœªè‡ªå‹•æ·»åŠ **
   - æª¢æŸ¥ labeler.yml é…ç½®
   - ç¢ºèª PR è®Šæ›´çš„æª”æ¡ˆç¬¦åˆæ¨™ç±¤è¦å‰‡
   - æª¢æŸ¥ GitHub Actions æ¬Šé™è¨­å®š

### é™¤éŒ¯æ¨¡å¼

å•Ÿç”¨ GitHub Actions é™¤éŒ¯æ¨¡å¼ï¼š

1. åœ¨å„²å­˜åº«è¨­å®šä¸­æ·»åŠ  Secret: `ACTIONS_STEP_DEBUG = true`
2. é‡æ–°åŸ·è¡Œå¤±æ•—çš„å·¥ä½œæµç¨‹
3. æŸ¥çœ‹è©³ç´°çš„é™¤éŒ¯æ—¥èªŒ

## ğŸ“ æ”¯æ´è¯çµ¡

å¦‚æœ‰å•é¡Œæˆ–éœ€è¦å”åŠ©ï¼š

- **æŠ€è¡“å•é¡Œ**: @tech-team
- **å…§å®¹å•é¡Œ**: @content-manager
- **é†«ç™‚å¯©æ ¸**: @medical-advisors
- **ç·Šæ€¥å•é¡Œ**: è«‹ç›´æ¥è¯çµ¡å°ˆæ¡ˆè² è²¬äºº

## ğŸ“š ç›¸é—œæ–‡ä»¶

- [å“è³ªæª¢æŸ¥å·¥å…·èªªæ˜](../QUALITY_CHECKS.md)
- [CMS è¨­å®šæŒ‡å—](../CMS_SETUP.md)
- [å…§å®¹ç·¨è¼¯æŒ‡å—](../CMS_EDITING_GUIDE.md)
- [å°ˆæ¡ˆä¸»è¦ README](../README.md)