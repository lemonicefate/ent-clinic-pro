---
/**
 * æ•™è‚²å…§å®¹ç¸½è¦½é é¢
 * å±•ç¤ºæ‰€æœ‰è¡›æ•™è³‡æºï¼Œæ”¯æ´åˆ†é¡ç€è¦½å’Œç¯©é¸
 * 
 * æ›´æ–°æ—¥æœŸï¼š2025-01-30
 * æ›´æ–°å…§å®¹ï¼šæ–°å¢ SOP å·¥ä½œæµç¨‹æ”¯æ´
 * - éæ¿¾å·²ç™¼å¸ƒå…§å®¹ï¼ˆstatus: 'published'ï¼‰
 * - é¡¯ç¤ºæ–‡ç« çµ±è¨ˆï¼ˆåŒ…å«ç‹€æ…‹åˆ†å¸ƒï¼‰
 * - æ–°å¢ç‰ˆæœ¬å’Œä½œè€…è³‡è¨Šé¡¯ç¤º
 * - å„ªåŒ– SEO å…ƒè³‡æ–™å’Œçµæ§‹åŒ–è³‡æ–™
 * 
 * éœ€æ±‚å°æ‡‰ï¼š
 * - éœ€æ±‚ 7.1: å¤šèªè¨€æ”¯æ´æ©Ÿåˆ¶ âœ“
 * - éœ€æ±‚ 8.3: æ•ˆèƒ½ç›£æ§å’Œåˆ†æ âœ“
 */

import BaseLayout from '../../layouts/BaseLayout.astro';
import ContentFreshnessIndicator from '../../components/ContentFreshnessIndicator.astro';
import { getCollection } from 'astro:content';
import { calculateReadingTime, formatDate, t } from '../../utils/i18n';
import type { SupportedLocale } from '../../env.d';

const locale: SupportedLocale = 'zh-TW'; // é€™è£¡æ‡‰è©²å¾è·¯ç”±ä¸­ç²å–

// ç²å–æ‰€æœ‰æ•™è‚²å…§å®¹ä¸¦éæ¿¾å·²ç™¼å¸ƒçš„å…§å®¹
const allEducationEntries = await getCollection('education');

// æ ¹æ“šç’°å¢ƒæ±ºå®šæ˜¯å¦é¡¯ç¤ºéç™¼å¸ƒå…§å®¹
const isDevelopment = import.meta.env.DEV;

// éæ¿¾å…§å®¹ï¼šç”Ÿç”¢ç’°å¢ƒåªé¡¯ç¤ºå·²ç™¼å¸ƒå…§å®¹ï¼Œé–‹ç™¼ç’°å¢ƒé¡¯ç¤ºæ‰€æœ‰å…§å®¹
const filteredEducation = allEducationEntries.filter(entry => {
  if (isDevelopment) {
    return entry.data.isActive !== false; // é–‹ç™¼ç’°å¢ƒé¡¯ç¤ºæ‰€æœ‰å•Ÿç”¨çš„å…§å®¹
  }
  return entry.data.status === 'published' && entry.data.isActive !== false;
});

// åˆ†é¡è™•ç†
const featuredEducation = filteredEducation.filter(entry => entry.data.isFeatured);
const patientFriendlyEducation = filteredEducation.filter(entry => entry.data.patientFriendly);
const professionalEducation = filteredEducation.filter(entry => entry.data.professionalLevel);

const breadcrumbs = [
  { label: t('nav.home', locale), href: '/' },
  { label: t('nav.education', locale) }
];

// æŒ‰åˆ†é¡åˆ†çµ„æ•™è‚²å…§å®¹
const educationByCategory = filteredEducation.reduce((acc, entry) => {
  const category = entry.data.category;
  if (!acc[category]) {
    acc[category] = [];
  }
  acc[category].push(entry);
  return acc;
}, {} as Record<string, typeof filteredEducation>);

// æŒ‰é†«ç™‚å°ˆç§‘åˆ†çµ„
const educationBySpecialty = filteredEducation.reduce((acc, entry) => {
  entry.data.medicalSpecialties.forEach(specialty => {
    if (!acc[specialty]) {
      acc[specialty] = [];
    }
    acc[specialty].push(entry);
  });
  return acc;
}, {} as Record<string, typeof filteredEducation>);

// SOP çµ±è¨ˆè³‡æ–™
const sopStats = {
  total: allEducationEntries.length,
  published: allEducationEntries.filter(e => e.data.status === 'published').length,
  inReview: allEducationEntries.filter(e => e.data.status === 'in-review').length,
  draft: allEducationEntries.filter(e => e.data.status === 'draft').length,
  needsRevision: allEducationEntries.filter(e => e.data.status === 'needs-revision').length,
  qualityCheck: allEducationEntries.filter(e => e.data.status === 'quality-check').length,
  readyToPublish: allEducationEntries.filter(e => e.data.status === 'ready-to-publish').length
};

// åˆ†é¡é…ç½®
const categoryConfig = {
  'disease': { label: 'ç–¾ç—…è³‡è¨Š', icon: 'ğŸ¥', color: 'red', description: 'å„ç¨®ç–¾ç—…çš„ç—‡ç‹€ã€è¨ºæ–·å’Œæ²»ç™‚è³‡è¨Š' },
  'treatment': { label: 'æ²»ç™‚æŒ‡å¼•', icon: 'ğŸ’Š', color: 'blue', description: 'æ²»ç™‚æ–¹æ³•å’Œç”¨è—¥æŒ‡å°' },
  'prevention': { label: 'é é˜²ä¿å¥', icon: 'ğŸ›¡ï¸', color: 'green', description: 'ç–¾ç—…é é˜²å’Œå¥åº·ç¶­è­·' },
  'procedure': { label: 'é†«ç™‚ç¨‹åº', icon: 'ğŸ”¬', color: 'purple', description: 'æª¢æŸ¥å’Œæ‰‹è¡“ç¨‹åºèªªæ˜' },
  'medication': { label: 'è—¥ç‰©è³‡è¨Š', icon: 'ğŸ’‰', color: 'orange', description: 'è—¥ç‰©ä½¿ç”¨å’Œå‰¯ä½œç”¨' },
  'lifestyle': { label: 'ç”Ÿæ´»æ–¹å¼', icon: 'ğŸƒ', color: 'teal', description: 'å¥åº·ç”Ÿæ´»æ–¹å¼å»ºè­°' }
};

const specialtyConfig = {
  'cardiology': { label: 'å¿ƒè‡Ÿç§‘', icon: 'â¤ï¸' },
  'neurology': { label: 'ç¥ç¶“ç§‘', icon: 'ğŸ§ ' },
  'emergency': { label: 'æ€¥è¨ºé†«å­¸', icon: 'ğŸš¨' },
  'internal-medicine': { label: 'å…§ç§‘', icon: 'ğŸ©º' },
  'surgery': { label: 'å¤–ç§‘', icon: 'ğŸ”ª' },
  'pediatrics': { label: 'å°å…’ç§‘', icon: 'ğŸ‘¶' },
  'general': { label: 'ä¸€èˆ¬é†«å­¸', icon: 'ğŸ“‹' }
};

const getDifficultyBadge = (difficulty: string) => {
  switch (difficulty) {
    case 'basic': return { label: 'åŸºç¤', color: 'bg-green-100 text-green-800' };
    case 'intermediate': return { label: 'ä¸­ç´š', color: 'bg-yellow-100 text-yellow-800' };
    case 'advanced': return { label: 'é€²éš', color: 'bg-red-100 text-red-800' };
    default: return { label: 'åŸºç¤', color: 'bg-gray-100 text-gray-800' };
  }
};
---

<BaseLayout 
  title="é†«ç™‚è¡›æ•™è³‡æº"
  description="å°ˆæ¥­çš„é†«ç™‚è¡›æ•™å…§å®¹ï¼ŒåŒ…å«ç–¾ç—…è³‡è¨Šã€æ²»ç™‚æŒ‡å¼•ã€é é˜²ä¿å¥ç­‰è±å¯Œçš„å¥åº·æ•™è‚²è³‡æº"
  locale={locale}
  medicalContent={true}
  pageType="education"
  breadcrumbs={breadcrumbs}
>
  <main class="container mx-auto px-4 py-8">
    <!-- é é¢æ¨™é¡Œ -->
    <div class="text-center mb-12">
      <h1 class="text-4xl font-bold text-medical-neutral-900 mb-4">
        é†«ç™‚è¡›æ•™è³‡æº
      </h1>
      <p class="text-xl text-medical-neutral-600 max-w-3xl mx-auto">
        æä¾›å°ˆæ¥­ã€æº–ç¢ºã€æ˜“æ‡‚çš„é†«ç™‚å¥åº·è³‡è¨Šï¼Œå¹«åŠ©æ‚£è€…å’Œå®¶å±¬æ›´å¥½åœ°äº†è§£ç–¾ç—…å’Œæ²»ç™‚
      </p>
    </div>

    <!-- çµ±è¨ˆæ¦‚è¦½ -->
    <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-12">
      <div class="bg-white rounded-lg border border-medical-neutral-200 p-6 text-center">
        <div class="text-3xl font-bold text-medical-primary-600 mb-2">
          {sopStats.published}
        </div>
        <div class="text-sm text-medical-neutral-600">å·²ç™¼å¸ƒæ–‡ç« </div>
        {isDevelopment && (
          <div class="text-xs text-medical-neutral-500 mt-1">
            ç¸½è¨ˆ: {sopStats.total}
          </div>
        )}
      </div>
      
      <div class="bg-white rounded-lg border border-medical-neutral-200 p-6 text-center">
        <div class="text-3xl font-bold text-medical-success-600 mb-2">
          {patientFriendlyEducation.length}
        </div>
        <div class="text-sm text-medical-neutral-600">ç—…æ‚£å‹å–„</div>
      </div>
      
      <div class="bg-white rounded-lg border border-medical-neutral-200 p-6 text-center">
        <div class="text-3xl font-bold text-medical-warning-600 mb-2">
          {professionalEducation.length}
        </div>
        <div class="text-sm text-medical-neutral-600">å°ˆæ¥­ç´šå…§å®¹</div>
      </div>
      
      <div class="bg-white rounded-lg border border-medical-neutral-200 p-6 text-center">
        <div class="text-3xl font-bold text-medical-error-600 mb-2">
          {Object.keys(educationByCategory).length}
        </div>
        <div class="text-sm text-medical-neutral-600">å…§å®¹åˆ†é¡</div>
      </div>
    </div>

    <!-- SOP å·¥ä½œæµç¨‹çµ±è¨ˆï¼ˆåƒ…é–‹ç™¼ç’°å¢ƒé¡¯ç¤ºï¼‰ -->
    {isDevelopment && (
      <div class="bg-medical-neutral-50 rounded-lg p-6 mb-12">
        <h2 class="text-lg font-semibold text-medical-neutral-900 mb-4 flex items-center">
          <svg class="h-5 w-5 text-medical-primary-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z" />
          </svg>
          SOP å·¥ä½œæµç¨‹çµ±è¨ˆ (é–‹ç™¼ç’°å¢ƒ)
        </h2>
        <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
          <div class="text-center">
            <div class="text-2xl font-bold text-green-600">{sopStats.published}</div>
            <div class="text-xs text-medical-neutral-600">å·²ç™¼å¸ƒ</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-blue-600">{sopStats.inReview}</div>
            <div class="text-xs text-medical-neutral-600">å¯©æ ¸ä¸­</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-gray-600">{sopStats.draft}</div>
            <div class="text-xs text-medical-neutral-600">è‰ç¨¿</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-yellow-600">{sopStats.needsRevision}</div>
            <div class="text-xs text-medical-neutral-600">éœ€ä¿®æ”¹</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-purple-600">{sopStats.qualityCheck}</div>
            <div class="text-xs text-medical-neutral-600">å“è³ªæª¢æŸ¥</div>
          </div>
          <div class="text-center">
            <div class="text-2xl font-bold text-orange-600">{sopStats.readyToPublish}</div>
            <div class="text-xs text-medical-neutral-600">æº–å‚™ç™¼å¸ƒ</div>
          </div>
        </div>
      </div>
    )}

    <!-- ç²¾é¸å…§å®¹ -->
    {featuredEducation.length > 0 && (
      <section class="mb-12">
        <h2 class="text-2xl font-bold text-medical-neutral-900 mb-6 flex items-center">
          <svg class="h-6 w-6 text-medical-warning-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11.049 2.927c.3-.921 1.603-.921 1.902 0l1.519 4.674a1 1 0 00.95.69h4.915c.969 0 1.371 1.24.588 1.81l-3.976 2.888a1 1 0 00-.363 1.118l1.518 4.674c.3.922-.755 1.688-1.538 1.118l-3.976-2.888a1 1 0 00-1.176 0l-3.976 2.888c-.783.57-1.838-.197-1.538-1.118l1.518-4.674a1 1 0 00-.363-1.118l-3.976-2.888c-.784-.57-.38-1.81.588-1.81h4.914a1 1 0 00.951-.69l1.519-4.674z" />
          </svg>
          ç²¾é¸å…§å®¹
        </h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
          {featuredEducation.slice(0, 6).map(entry => {
            const edu = entry.data;
            const category = categoryConfig[edu.category] || { label: edu.category, icon: 'ğŸ“„', color: 'gray' };
            const difficulty = getDifficultyBadge(edu.difficulty);
            const readingTime = edu.readingTime || 5;
            
            return (
              <article class="bg-white rounded-lg border border-medical-neutral-200 hover:shadow-lg transition-shadow group">
                <div class="p-6">
                  <div class="flex items-start justify-between mb-4">
                    <div class="text-2xl">{category.icon}</div>
                    <div class="flex flex-wrap gap-1">
                      <span class={`inline-flex items-center px-2 py-1 rounded-full text-xs font-medium ${difficulty.color}`}>
                        {difficulty.label}
                      </span>
                      {edu.patientFriendly && (
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-medical-success-100 text-medical-success-800">
                          ç—…æ‚£å‹å–„
                        </span>
                      )}
                      {isDevelopment && edu.status !== 'published' && (
                        <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                          {edu.status === 'draft' ? 'è‰ç¨¿' :
                           edu.status === 'in-review' ? 'å¯©æ ¸ä¸­' :
                           edu.status === 'needs-revision' ? 'éœ€ä¿®æ”¹' :
                           edu.status === 'quality-check' ? 'å“è³ªæª¢æŸ¥' :
                           edu.status === 'ready-to-publish' ? 'æº–å‚™ç™¼å¸ƒ' : edu.status}
                        </span>
                      )}
                    </div>
                  </div>
                  
                  <h3 class="text-lg font-semibold text-medical-neutral-900 mb-2 group-hover:text-medical-primary-600 transition-colors">
                    <a href={`/education/${entry.slug}`}>
                      {edu.title[locale]}
                    </a>
                  </h3>
                  
                  {edu.excerpt && (
                    <p class="text-medical-neutral-600 text-sm mb-4 line-clamp-2">
                      {edu.excerpt[locale]}
                    </p>
                  )}
                  
                  <div class="flex items-center justify-between text-xs text-medical-neutral-500">
                    <div class="flex items-center space-x-4">
                      <span class="flex items-center">
                        <svg class="h-3 w-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        {readingTime} åˆ†é˜
                      </span>
                      <span class="capitalize">{category.label}</span>
                      {edu.version && (
                        <span class="text-medical-neutral-400">v{edu.version}</span>
                      )}
                    </div>
                    <a 
                      href={`/education/${entry.slug}`}
                      class="text-medical-primary-600 hover:text-medical-primary-700 font-medium transition-colors"
                    >
                      é–±è®€ â†’
                    </a>
                  </div>
                  
                  {/* å…§å®¹æ–°é®®åº¦æŒ‡ç¤ºå™¨ */}
                  <div class="mt-3 pt-3 border-t border-medical-neutral-100">
                    <ContentFreshnessIndicator
                      lastUpdated={edu.lastUpdated}
                      nextReviewDate={edu.nextReviewDate}
                      publishedAt={edu.workflowTimestamps?.publishedAt}
                      category={edu.category}
                      medicalSpecialties={edu.medicalSpecialties}
                      locale={locale}
                      showInline={true}
                    />
                  </div>
                  
                  {/* ä½œè€…å’Œæ›´æ–°è³‡è¨Š */}
                  {(edu.author || edu.lastUpdated) && (
                    <div class="mt-2">
                      <div class="flex items-center justify-between text-xs text-medical-neutral-400">
                        {edu.author && (
                          <span>ä½œè€…: {edu.author[locale]}</span>
                        )}
                        {edu.lastUpdated && (
                          <span>æ›´æ–°: {formatDate(edu.lastUpdated, locale)}</span>
                        )}
                      </div>
                    </div>
                  )}
                </div>
              </article>
            );
          })}
        </div>
      </section>
    )}

    <!-- æŒ‰åˆ†é¡ç€è¦½ -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-medical-neutral-900 mb-6 flex items-center">
        <svg class="h-6 w-6 text-medical-primary-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10" />
        </svg>
        æŒ‰å…§å®¹åˆ†é¡
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {Object.entries(educationByCategory).map(([categoryKey, articles]) => {
          const category = categoryConfig[categoryKey] || { label: categoryKey, icon: 'ğŸ“„', color: 'gray', description: '' };
          
          return (
            <div key={categoryKey} class="bg-white rounded-lg border border-medical-neutral-200 hover:shadow-md transition-shadow">
              <div class="p-6">
                <div class="flex items-center mb-4">
                  <div class="text-3xl mr-4">{category.icon}</div>
                  <div>
                    <h3 class="text-lg font-semibold text-medical-neutral-900">
                      {category.label}
                    </h3>
                    <p class="text-sm text-medical-neutral-600">
                      {articles.length} ç¯‡æ–‡ç« 
                    </p>
                  </div>
                </div>
                
                <p class="text-sm text-medical-neutral-600 mb-4">
                  {category.description}
                </p>
                
                <div class="space-y-2 mb-4">
                  {articles.slice(0, 3).map(article => (
                    <a 
                      key={article.slug}
                      href={`/education/${article.slug}`}
                      class="block text-sm text-medical-neutral-700 hover:text-medical-primary-600 transition-colors truncate"
                    >
                      â€¢ {article.title[locale]}
                    </a>
                  ))}
                  {articles.length > 3 && (
                    <p class="text-xs text-medical-neutral-500">
                      é‚„æœ‰ {articles.length - 3} ç¯‡æ–‡ç« ...
                    </p>
                  )}
                </div>
                
                <a 
                  href={`/education/category/${categoryKey}`}
                  class="inline-flex items-center text-sm text-medical-primary-600 hover:text-medical-primary-700 font-medium transition-colors"
                >
                  æŸ¥çœ‹å…¨éƒ¨
                  <svg class="ml-1 h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                  </svg>
                </a>
              </div>
            </div>
          );
        })}
      </div>
    </section>

    <!-- æŒ‰é†«ç™‚å°ˆç§‘ç€è¦½ -->
    <section class="mb-12">
      <h2 class="text-2xl font-bold text-medical-neutral-900 mb-6 flex items-center">
        <svg class="h-6 w-6 text-medical-success-600 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z" />
        </svg>
        æŒ‰é†«ç™‚å°ˆç§‘
      </h2>

      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
        {Object.entries(educationBySpecialty).map(([specialtyKey, articles]) => {
          const specialty = specialtyConfig[specialtyKey] || { label: specialtyKey, icon: 'ğŸ¥' };
          
          return (
            <div key={specialtyKey} class="bg-white rounded-lg border border-medical-neutral-200 p-4 hover:border-medical-primary-300 hover:bg-medical-primary-50 transition-colors">
              <div class="flex items-center justify-between mb-2">
                <div class="flex items-center">
                  <span class="text-xl mr-2">{specialty.icon}</span>
                  <span class="font-medium text-medical-neutral-900 text-sm">
                    {specialty.label}
                  </span>
                </div>
                <span class="text-xs text-medical-neutral-500">
                  {articles.length}
                </span>
              </div>
              
              <a 
                href={`/education/specialty/${specialtyKey}`}
                class="text-xs text-medical-primary-600 hover:text-medical-primary-700 transition-colors"
              >
                æŸ¥çœ‹å…§å®¹ â†’
              </a>
            </div>
          );
        })}
      </div>
    </section>

    <!-- ä½¿ç”¨æŒ‡å— -->
    <section class="bg-medical-neutral-50 rounded-lg p-8">
      <h2 class="text-2xl font-bold text-medical-neutral-900 mb-6 text-center">
        å¦‚ä½•ä½¿ç”¨è¡›æ•™è³‡æº
      </h2>
      
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="text-center">
          <div class="w-16 h-16 bg-medical-primary-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="h-8 w-8 text-medical-primary-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-medical-neutral-900 mb-2">
            1. æœå°‹å…§å®¹
          </h3>
          <p class="text-medical-neutral-600 text-sm">
            ä½¿ç”¨æœå°‹åŠŸèƒ½æˆ–ç€è¦½åˆ†é¡æ‰¾åˆ°æ‚¨éœ€è¦çš„å¥åº·è³‡è¨Š
          </p>
        </div>
        
        <div class="text-center">
          <div class="w-16 h-16 bg-medical-success-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="h-8 w-8 text-medical-success-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-medical-neutral-900 mb-2">
            2. é–±è®€å­¸ç¿’
          </h3>
          <p class="text-medical-neutral-600 text-sm">
            ä»”ç´°é–±è®€å…§å®¹ï¼Œæ³¨æ„é‡è¦æé†’å’Œè­¦å‘Šäº‹é …
          </p>
        </div>
        
        <div class="text-center">
          <div class="w-16 h-16 bg-medical-warning-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg class="h-8 w-8 text-medical-warning-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg>
          </div>
          <h3 class="text-lg font-semibold text-medical-neutral-900 mb-2">
            3. è«®è©¢é†«å¸«
          </h3>
          <p class="text-medical-neutral-600 text-sm">
            å°‡å­¸åˆ°çš„çŸ¥è­˜èˆ‡æ‚¨çš„é†«å¸«è¨è«–ï¼Œåˆ¶å®šå€‹äººåŒ–æ²»ç™‚è¨ˆåŠƒ
          </p>
        </div>
      </div>
      
      <div class="mt-8 p-4 bg-medical-warning-50 border border-medical-warning-200 rounded-lg">
        <div class="flex">
          <svg class="h-5 w-5 text-medical-warning-600 mt-0.5 mr-3 flex-shrink-0" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z" />
          </svg>
          <div>
            <h4 class="text-sm font-medium text-medical-warning-800 mb-1">
              é‡è¦æé†’
            </h4>
            <p class="text-sm text-medical-warning-700">
              æœ¬ç¶²ç«™æä¾›çš„é†«ç™‚è³‡è¨Šåƒ…ä¾›æ•™è‚²åƒè€ƒï¼Œä¸èƒ½å–ä»£å°ˆæ¥­é†«ç™‚å»ºè­°ã€è¨ºæ–·æˆ–æ²»ç™‚ã€‚å¦‚æœ‰å¥åº·å•é¡Œï¼Œè«‹è«®è©¢åˆæ ¼çš„é†«ç™‚å°ˆæ¥­äººå“¡ã€‚
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>
</BaseLayout>

<style>
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
</style>